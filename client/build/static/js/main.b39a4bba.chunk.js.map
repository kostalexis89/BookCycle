{"version":3,"sources":["context/auth.js","components/Navigation.js","pages/Signup.js","pages/Login.js","components/RequestSection.js","components/BookIdPopup.js","components/BookCard.js","components/BookSliderForHome.js","components/BookSliderForHomeByTown.js","pages/Home.js","components/Book.js","components/FindBook.js","components/BookSlider.js","pages/MyLibrary.js","components/MessageSection.js","components/RequestBookCard.js","pages/OutboxRequests.js","pages/InboxRequests.js","App.js","reportWebVitals.js","index.js"],"names":["AuthContext","React","createContext","AuthProviderWrapper","props","useState","isLoggedIn","setIsLoggedIn","user","setUser","isLoading","setIsLoading","navigate","useNavigate","verifyStoredToken","storedToken","localStorage","getItem","axios","get","headers","Authorization","then","response","data","catch","err","useEffect","Provider","value","loginUser","token","setItem","logoutUser","removeItem","children","Navigation","useContext","Navbar","bg","expand","variant","Container","fluid","Brand","href","username","Toggle","Offcanvas","id","placement","Header","closeButton","Title","Body","className","Nav","to","NavDropdown","title","Divider","onClick","Signup","setUsername","email","setEmail","password","setPassword","town","setTown","findedTowns","setFindedTowns","picture","setPicture","undefined","errorMessage","setErrorMessage","results","capitalsCities","map","e","capital","toLowerCase","includes","unshift","name","length","slice","handleDropTown","target","innerHTML","Form","onSubmit","preventDefault","requestBody","post","errorDescrition","message","Group","controlId","Label","Control","type","placeholder","onChange","Text","index","Button","Login","authToken","RequestSection","owner","ownerId","bookId","showMessage","setShowMessage","setMessage","handleShowMessageBox","userId","_id","console","log","style","width","as","rows","BookIdPopup","description","image","author","language","usersBookId","setRefresh","refresh","showEditBtn","setShowEditBtn","purpose","setPurpose","viewPopup","setViewPopup","src","alt","htmlFor","bookOwner","Spinner","animation","Book","shortDescr","setShortDescr","trigger","Card","Img","Subtitle","modal","BookSliderForHome","BookList","setBookList","displayBook","book","partialVisible","responsive","desktop","breakpoint","max","min","items","partialVisibilityGutter","tablet","mobile","infinite","BookSliderForHomeByTown","Home","Row","Col","handleStoreToMyDB","handlePurpose","setShortDesc","FindBook","handleSubmit","handleIsbn","isbn","BookSlider","MyLibrary","setIsbn","setTitle","setAuthor","setDescription","setImage","setLanguage","bookPurpose","setBookPurpose","sm","getWorksApi","res","getDataApi","works","key","getAuthorApi","authors","getImageApi","covers","languageApi","languages","available","MessageSection","messageHistory","requestId","proposal","requestSender","requestReciever","sendersBookList","setBookForExchange","viewSendersBookList","handleRequest","wholeMessage","RequestBookCard","request","setSendersBookList","sender","reciever","OutboxRequests","requests","setRequests","requestList","InboxRequests","App","path","element","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.b39a4bba.chunk.js","sourcesContent":["import React, { useState, useEffect } from 'react'\r\nimport axios from 'axios'\r\nimport { useNavigate } from 'react-router-dom'\r\n\r\nconst AuthContext = React.createContext();\r\n\r\nfunction AuthProviderWrapper(props) {\r\n\tconst [isLoggedIn, setIsLoggedIn] = useState(false)\r\n\tconst [user, setUser] = useState(null)\r\n\tconst [isLoading, setIsLoading] = useState(true)\r\n\r\n\tconst navigate = useNavigate()\r\n\t//a method it login the user\r\n\t//this is a fucking function!\r\n\tconst loginUser = token => {\r\n\t\t// store this token in local storage\r\n\t\tlocalStorage.setItem('authToken', token)\r\n\t\tverifyStoredToken();\r\n\t}\r\n\r\n\tconst logoutUser = () => {\r\n\t\t//first we have to remove the token from the local storage\r\n\t\tlocalStorage.removeItem('authToken')\r\n\t\t//then we have to reset the state!\r\n\t\tsetIsLoggedIn(false)\r\n\t\t//the last step\r\n\t\tsetUser(null)\r\n\t\tnavigate(\"/\")\r\n\t}\r\n\r\n\tconst verifyStoredToken = () => {\r\n\t\t// check local storage for an auth token\r\n\t\tconst storedToken = localStorage.getItem('authToken')\r\n\t\tif (storedToken) {\r\n\t\t\taxios.get('/auth/verify', { headers: { Authorization: `Bearer ${storedToken}` } })\r\n\t\t\t\t.then(response => {\r\n\t\t\t\t\t// console.log(response)\r\n\t\t\t\t\tconst user = response.data\r\n\t\t\t\t\tsetUser(user)\r\n\t\t\t\t\tsetIsLoggedIn(true)\r\n\t\t\t\t\tsetIsLoading(false)\r\n\t\t\t\t})\r\n\t\t\t\t.catch(err => {\r\n\t\t\t\t\t// the token is invalid\r\n\t\t\t\t\tsetIsLoggedIn(false)\r\n\t\t\t\t\tsetUser(null)\r\n\t\t\t\t\tsetIsLoading(false)\r\n\t\t\t\t})\r\n\t\t} else {\r\n\t\t\t// token is not available\r\n\t\t\tsetIsLoading(false)\r\n\t\t}\r\n\t}\r\n\r\n\tuseEffect(() => {\r\n\t\tverifyStoredToken()\r\n\t}, [])\r\n   \r\n\treturn (\r\n\t\t<AuthContext.Provider value={{ isLoggedIn, user, isLoading, loginUser, logoutUser }}>\r\n\t\t\t{props.children}\r\n\t\t</AuthContext.Provider>\r\n\t)\r\n}\r\n\r\nexport { AuthProviderWrapper, AuthContext }","import React from 'react'\r\nimport {Link} from 'react-router-dom'\r\nimport {useContext} from 'react'\r\nimport { AuthContext } from '../context/auth'\r\nimport Navbar from 'react-bootstrap/Navbar'\r\nimport { Offcanvas } from 'react-bootstrap'\r\nimport Container from 'react-bootstrap/Container'\r\nimport NavDropdown from 'react-bootstrap/NavDropdown'\r\nimport Nav from 'react-bootstrap/Nav'\r\n\r\nexport default function Navigation() {\r\n\r\nconst {isLoggedIn, user, logoutUser} = useContext(AuthContext)\r\n\r\n    // console.log(user)\r\n    return (\r\n        <Navbar bg=\"dark\" expand={false} variant=\"dark\">\r\n  <Container fluid>\r\n    <Navbar.Brand href=\"#\">BookCycle</Navbar.Brand>\r\n    {isLoggedIn && <Navbar.Brand>Welcome {user.username} </Navbar.Brand>}\r\n    <Navbar.Toggle aria-controls=\"offcanvasNavbar\" />\r\n    <Navbar.Offcanvas\r\n      id=\"offcanvasNavbar\"\r\n      aria-labelledby=\"offcanvasNavbarLabel\" \r\n      placement=\"end\"\r\n      \r\n    >\r\n      <Offcanvas.Header closeButton>\r\n        <Offcanvas.Title id=\"offcanvasNavbarLabel\">Welcome to BookCycle</Offcanvas.Title>\r\n      </Offcanvas.Header>\r\n      <Offcanvas.Body className='sidebar'>\r\n        <Nav className=\"justify-content-end flex-grow-1 pe-3\">\r\n          <Link to='/' className=\"menuLinks\">Home</Link>\r\n          {isLoggedIn ? (\r\n              <>\r\n            <NavDropdown title=\"My BookCycle\" id=\"dropdown\">\r\n                <Link to='/myLibrary' className='dropdown-item'>My Library</Link>\r\n                <NavDropdown.Divider />\r\n                <Link to='/inbox' className='dropdown-item'>Inbox Requests</Link>\r\n                <Link to='/outbox' className='dropdown-item'>Outbox Requests</Link>\r\n            </NavDropdown>\r\n            <Link to=\"/\" className=\"menuLinks\" onClick={logoutUser}>Logout</Link>\r\n            </>\r\n          ) : (\r\n              <>\r\n            <Link to='/signup' className=\"menuLinks\">Sign Up</Link>\r\n            <Link to='/login' className=\"menuLinks\">Log In</Link>\r\n            </>\r\n          )}\r\n          \r\n          \r\n        </Nav>\r\n      </Offcanvas.Body>\r\n    </Navbar.Offcanvas>\r\n  </Container>\r\n</Navbar>\r\n    )\r\n}","import React, { useState, useEffect } from 'react'\r\nimport Form from 'react-bootstrap/Form'\r\nimport Button from 'react-bootstrap/Button'\r\nimport capitalsCities from '../capitals.json'\r\nimport { useNavigate } from 'react-router-dom'\r\nimport axios from 'axios'\r\n\r\nexport default function Signup() {\r\n    //states declarations\r\n    const [username, setUsername] = useState('')\r\n    const [email, setEmail] = useState('')\r\n    const [password, setPassword] = useState('')\r\n    const [town, setTown] = useState('')\r\n    const [findedTowns, setFindedTowns] = useState([])\r\n    const [picture, setPicture] = useState('')\r\n    const [errorMessage, setErrorMessage] = useState(undefined)\r\n\r\n    const navigate = useNavigate()\r\n    //Forms Handlerers\r\n    const handleName = e => setUsername(e.target.value)\r\n    const handleEmail = e => setEmail(e.target.value)\r\n    const handlePassword = e => setPassword(e.target.value)\r\n    const handlePicture = e => setPicture(e.target.value)\r\n    //Town Handler\r\n    const handleTown = e => {\r\n\t\tsetTown(e.target.value)\r\n\t}\r\n    useEffect(() => {\r\n\t\t// console.log('Searching for town');\r\n\t\t// console.log(capitalsCities.data)\r\n\t\t\r\n\t\tlet results = []\r\n\t\tcapitalsCities.data.map((e)=>{\r\n\t\tif(e.capital.toLowerCase().includes(town.toLowerCase())){\r\n\t\t\tresults.unshift(e.capital +\", \"+e.name)\r\n\t\t}\r\n\t\t\r\n\t\treturn true\r\n\t\t})\r\n\t\tif(town.length===0){\r\n\t\t\tresults = []\r\n\t\t}\r\n\t\tresults = results.slice(0, 5);\r\n\t\t// console.log(\"results\")\r\n\t\t// console.log(results)\r\n\t\t// console.log(town.length)\r\n\t\tsetFindedTowns(results)\r\n\t\t\r\n\t}, [town])\r\n    const handleDropTown = e => setTown(e.target.innerHTML)\r\n\r\n    const handleSubmit = (e) => {\r\n        e.preventDefault()\r\n        const requestBody = { email, password, username, town }\r\n\r\n\t\taxios.post('/auth/signup', requestBody)\r\n\t\t\t.then(response => {\r\n\t\t\t\t// redirect -> login \r\n\t\t\t\tnavigate('/login')\r\n\t\t\t})\r\n\t\t\t.catch(err => {\r\n\t\t\t\tconst errorDescrition = err.response.data.message\r\n\t\t\t\tsetErrorMessage(errorDescrition)\r\n\t\t\t})\r\n    }\r\n    return (\r\n        <div className=\"App-header\">\r\n        <h1 className='headingOne'>Sign Up to BookCycle</h1>\r\n            <Form onSubmit={handleSubmit}>\r\n\r\n                <Form.Group className=\"mb-3\" controlId=\"formBasicUsername\">\r\n                    <Form.Label>Username</Form.Label>\r\n                    <Form.Control type=\"text\" placeholder=\"Username\" value={username} onChange={handleName}/>\r\n                </Form.Group>\r\n\r\n                <Form.Group className=\"mb-3\" controlId=\"formBasicEmail\">\r\n                    <Form.Label>Email address</Form.Label>\r\n                    <Form.Control type=\"email\" placeholder=\"Enter email\" value={email} onChange={handleEmail} />\r\n                    <Form.Text className=\"text-muted\">\r\n                    We'll never share your e-mail to third party\r\n                    </Form.Text>\r\n                </Form.Group>\r\n\r\n                <Form.Group className=\"mb-3\" controlId=\"formBasicPassword\">\r\n                    <Form.Label>Password</Form.Label>\r\n                    <Form.Control type=\"password\" placeholder=\"Password\" value={password} onChange={handlePassword} />\r\n                </Form.Group>\r\n\r\n                <Form.Group className=\"mb-3\" controlId=\"formBasicTown\">\r\n                    <Form.Label>Town</Form.Label>\r\n                    <Form.Control type=\"text\" placeholder=\"Password\" value={town} onChange={handleTown}/>\r\n                    <div className=\"drop-towns\">{findedTowns.map((town, index) => {\r\n\t\t\t\t\treturn <div key={index} className='child-towns' onClick={handleDropTown}>{town}</div>\r\n\t\t\t\t})}</div>\r\n                </Form.Group>\r\n                <Form.Group controlId=\"formFile\" className=\"mb-3\">\r\n                    <Form.Label>Upload Image</Form.Label>\r\n                    <Form.Control type=\"file\" value={picture} onChange={handlePicture}/>\r\n                </Form.Group>\r\n                <Button variant=\"danger\" type=\"submit\">\r\n                    Submit\r\n                </Button>\r\n            </Form>\r\n            {errorMessage && <p>{errorMessage}</p>}\r\n\r\n\t\t\t<p>Already have an account?</p>\r\n            <Button variant=\"danger\">Login</Button>\r\n\t\t\t{/* <Link to='/login'>Login</Link> */}\r\n        </div>\r\n    )\r\n}\r\n","import React, { useState, useContext } from 'react'\r\nimport { Link, useNavigate } from 'react-router-dom'\r\nimport axios from 'axios'\r\nimport {AuthContext} from '../context/auth'\r\nimport Form from 'react-bootstrap/Form'\r\nimport Button from 'react-bootstrap/Button'\r\n// import { Form, Input, Button } from 'antd';\r\n// import PlacesAutocomplete, {\r\n// \tgeocodeByAddress,\r\n// \tgetLatLng\r\n// } from \"react-places-autocomplete\"\r\n\r\nexport default function Login() {\r\n\r\n\tconst [email, setEmail] = useState('')\r\n\tconst [password, setPassword] = useState('')\r\n\tconst [errorMessage, setErrorMessage] = useState(undefined)\r\n\t// //GOOGLE MAPS\r\n\t// const [address, setAddress] = useState('')\r\n\t// const handleSelect = async (value) => {\r\n\r\n\t// }\r\n\t// //End of google maps\r\n\t/**TOWN USE EFFECT */\r\n\t\r\n\tconst navigate = useNavigate()\r\n\r\n    const {loginUser} = useContext(AuthContext)\r\n\r\n\tconst handleEmail = e => setEmail(e.target.value)\r\n\tconst handlePassword = e => setPassword(e.target.value)\r\n    \r\n\tconst handleSubmit = e => {\r\n\t\te.preventDefault()\r\n\t\tconst requestBody = { email, password }\r\n\r\n\t\taxios.post('/auth/login', requestBody)\r\n\t\t\t.then(response => {\r\n\t\t\t\t// redirect -> Projects \r\n                // console.log(response.data.authToken)\r\n                const token = response.data.authToken\r\n                //call login user function from auth context\r\n               \r\n                loginUser(token)\r\n\t\t\t\tnavigate('/')\r\n\t\t\t})\r\n\t\t\t.catch(err => {\r\n\t\t\t\tconst errorDescrition = err.response.data.message\r\n\t\t\t\tsetErrorMessage(errorDescrition)\r\n\t\t\t})\r\n\t}\r\n\t\r\n\treturn (\r\n\t\t<div className=\"App-header App\">\r\n\t\t\t<h1 className='headingOne'>Log In</h1>\r\n\t\t\t\t<Form onSubmit={handleSubmit}>\t\t\t\r\n\t\t\t\t\t<Form.Group className=\"mb-3\" controlId=\"formBasicEmail\">\r\n                    <Form.Label>Email address</Form.Label>\r\n                    <Form.Control type=\"email\" placeholder=\"Enter email\" value={email} onChange={handleEmail} />\r\n            \t</Form.Group>\r\n\t\t\t\t<Form.Group className=\"mb-3\" controlId=\"formBasicPassword\">\r\n                    <Form.Label>Password</Form.Label>\r\n                    <Form.Control type=\"password\" placeholder=\"Password\" value={password} onChange={handlePassword} />\r\n                </Form.Group>\r\n\t\t\t\t<Button variant=\"danger\" type=\"submit\">\r\n                    Log In\r\n                </Button>\r\n\t\t\t\t{errorMessage && <p>{errorMessage}</p>}\r\n\t\t\t\t<Form.Group>\r\n\t\t\t\t<Form.Text className=\"text-muted\">Don't have an account?</Form.Text><br></br>\r\n\t\t\t\t<Button variant=\"danger\">\r\n\t\t\t\t<Link id='signup-btn' to='/signup'>Sign up</Link></Button></Form.Group>\r\n\t\t\t\t</Form>\r\n\t\t\t\t\r\n\t\t\t\r\n\r\n\t\t\t\r\n\t\t</div>\r\n\t)\r\n}\r\n\r\n","import React, { useState, useContext } from 'react'\r\nimport Button from 'react-bootstrap/Button'\r\nimport Form from 'react-bootstrap/Form'\r\nimport {AuthContext} from '../context/auth'\r\nimport axios from 'axios'\r\n\r\nexport default function RequestSection({owner,ownerId, bookId}) {\r\n    const {user} = useContext(AuthContext)\r\n    const [showMessage, setShowMessage] = useState(true)\r\n    const [message, setMessage] = useState('')\r\n    const handleShowMessageBox = () => {\r\n        setShowMessage(!showMessage)\r\n    }\r\n\r\n    const handleMessage = (e) => {\r\n        e.preventDefault()\r\n        setMessage(e.target.value)\r\n        \r\n    }\r\n\r\n    const handleSubmit = (e) => {\r\n        e.preventDefault()\r\n        // setMessage(user.username + \": \" + message)\r\n        // console.log('I am sending the request')\r\n        // console.log('user ID', user._id)\r\n        // console.log('owner ID',ownerId)\r\n        axios.post('/messages/sendRequest', {userId: user._id, ownerId:ownerId, message: user.username+\": \"+ message, bookId})\r\n        .then(response => {\r\n            console.log(response)\r\n        })\r\n        setMessage('')\r\n    }\r\n\r\n\r\n    return (\r\n        <>{showMessage ? <Button variant=\"danger\" onClick={handleShowMessageBox}>Send a message to {owner}</Button> \r\n        : <>\r\n            <Form className='send-form' onSubmit={handleSubmit} style={{ width: \"100%\"}}>\r\n                <Form.Group className=\"mb-2\" controlId=\"exampleForm.ControlTextarea1\" style={{ width: \"100%\"}}>\r\n                    <Form.Control value={message}  onChange={handleMessage} as=\"textarea\" rows={3} placeholder=\"Write a message \" />\r\n                </Form.Group>\r\n                <div className='message-btns'>\r\n                    <Button variant=\"danger\" type=\"submit\">Submit Request</Button>\r\n                    <Button variant=\"danger\" onClick={handleShowMessageBox}>Cancel</Button>\r\n                </div>\r\n            </Form>\r\n            \r\n        </>}\r\n            \r\n        </>\r\n    )\r\n}","import axios from \"axios\";\r\nimport React ,{useContext, useState} from \"react\";\r\nimport Button from 'react-bootstrap/Button'\r\nimport {AuthContext} from '../context/auth'\r\n// import { useNavigate } from 'react-router-dom'\r\nimport Spinner from 'react-bootstrap/Spinner'\r\nimport RequestSection from \"./RequestSection\";\r\n\r\nexport default function BookIdPopup({\r\n  title,\r\n  description,\r\n  image,\r\n  author,\r\n  language,\r\n  town,\r\n  usersBookId,\r\n  bookId,\r\n  setRefresh,\r\n  refresh,\r\n  owner,\r\n  ownerId\r\n}) {\r\n \r\n    const [showEditBtn, setShowEditBtn] = useState(true)\r\n    const [purpose, setPurpose] = useState ('')\r\n    // let navigate = useNavigate();\r\n    const { user} = useContext(AuthContext)\r\n    const [viewPopup, setViewPopup] = useState(true)\r\n    // console.log(user._id)\r\n    // console.log(bookId)\r\n    // console.log(ownerId)\r\n    const handleEditPurposeOrAvailability = () => {\r\n      setShowEditBtn(!showEditBtn)\r\n      \r\n    }\r\n\r\n    const handleDeleteFromCollection =() =>{\r\n      console.log(user._id)\r\n      const userId = user._id\r\n      const bookOwner = usersBookId\r\n      // console.log(bookOwner)\r\n      axios.post(`books/delete/${bookId}`, {userId, bookOwner})\r\n      .then(() => {\r\n        setRefresh(!refresh)\r\n        setViewPopup(false)\r\n        // navigate('/')\r\n      })\r\n      .catch(err => console.log(err))\r\n      \r\n    }\r\n\r\n  const handlePurpose = (e) => {\r\n      setPurpose(e.target.value)\r\n      // console.log(e.target.value)\r\n  }\r\n\r\n  const handleUpdatePurpose = () => {\r\n    console.log('I am handling')\r\n    if(purpose!==''){\r\n      const userId = user._id\r\n      const bookOwner = usersBookId\r\n      axios.post(`/books/edit/${bookId}`, {userId, bookOwner, purpose})\r\n      .then(() => {\r\n        setRefresh(!refresh)\r\n        setViewPopup(false)\r\n        // navigate('/')\r\n      })\r\n    }\r\n    console.log(purpose)\r\n    \r\n  }\r\n\r\n  return (\r\n    <>\r\n    {viewPopup ? <div className=\"modal-wrapper\">\r\n    <div className=\"image-wrapper\">\r\n      <img src={image} alt={title}/>\r\n    </div>\r\n    <div className=\"info-wrapper\">\r\n      <div className=\"title-wrapper\">\r\n        <h3>{title}</h3>\r\n        <h3>by {author}</h3>\r\n        <h3>language: {language}</h3>\r\n      </div>\r\n      <p>{description}</p>\r\n      <h5>Owner {owner}</h5>\r\n      <div className=\"button-wrapper\">\r\n      {user._id===usersBookId ? <>{ showEditBtn ? <Button variant=\"danger\" onClick={handleEditPurposeOrAvailability}>Edit Purpose or availability</Button> : \r\n      <div className=\"addProperties\" onClick={handlePurpose}>\r\n                    <span className='radio-select'><input type=\"radio\" value=\"GiveAway\" name=\"gender\" id='giveaway' /> <label htmlFor='giveaway'>Give Away</label></span>\r\n                    <span className='radio-select'><input type=\"radio\" value=\"Exchange\" name=\"gender\" id='exchange' /> <label htmlFor='exchange'>Exchange</label></span>\r\n                    <span className='radio-select'><input type=\"radio\" value=\"TradeForAPeriod\" name=\"gender\" id='shortTrade' /><label htmlFor='shortTrade' >Short Trade</label></span>\r\n                    <Button variant=\"danger\" onClick={handleUpdatePurpose}>Update Purpose</Button>\r\n      </div>}\r\n      <Button variant=\"danger\" onClick={handleDeleteFromCollection}>Delete from your Collection</Button></> : <RequestSection owner={owner} ownerId={ownerId} bookId={bookId}/>}\r\n      \r\n      </div>\r\n    </div>\r\n  </div> : <Spinner animation=\"grow\"></Spinner>}</>\r\n    \r\n  );\r\n}\r\n","import React, { useState, useEffect} from 'react'\r\nimport Card from 'react-bootstrap/Card'\r\nimport Popup from \"reactjs-popup\";\r\nimport \"reactjs-popup/dist/index.css\";\r\nimport BookIdPopup from './BookIdPopup';\r\n\r\nexport default function Book({title,ownerId, description, image, author, language, town, usersBookId, bookId, setRefresh, refresh, owner}) {\r\n    const [shortDescr,setShortDescr] = useState('')\r\n    useEffect(()=>{\r\n        if(description){\r\n            setShortDescr(description.slice(0,(100 - title.length+author.length+language.length+town.length))+\"...\")\r\n        }\r\n    },[])\r\n\r\n    return (\r\n        <Popup trigger={<div className=\"book-card\" >\r\n        <Card className='home-card' style={{ width: '14rem' }}>\r\n        <Card.Img variant=\"top\" src={image} />\r\n        <Card.Body>\r\n            <Card.Title>{title}</Card.Title>\r\n            <Card.Subtitle className=\"mb-2 text-muted\">By {author}</Card.Subtitle>\r\n            <Card.Subtitle className=\"mb-2 text-muted\">Written in {language}</Card.Subtitle>\r\n            <Card.Subtitle className=\"mb-2 text-muted\">Location {town}</Card.Subtitle>\r\n            <Card.Text>{shortDescr}</Card.Text>\r\n        </Card.Body>\r\n        \r\n        </Card>\r\n    </div>} modal>\r\n    <BookIdPopup title={title} description={description} image={image} author={author} language={language} town={town} usersBookId={usersBookId} bookId={bookId} setRefresh={setRefresh} refresh={refresh} owner={owner} ownerId={ownerId} />\r\n        </Popup>\r\n    )\r\n}\r\n","import React, { useState, useEffect } from 'react'\r\nimport axios from 'axios'\r\nimport BookCard from './BookCard'\r\nimport Carousel from 'react-multi-carousel';\r\nimport 'react-multi-carousel/lib/styles.css';\r\n\r\n\r\nexport default function BookSliderForHome({purpose, user, town}) {\r\n  const responsive = {\r\n    desktop: {\r\n      breakpoint: { max: 3000, min: 1024 },\r\n      items: 3,\r\n      partialVisibilityGutter: 40, // this is needed to tell the amount of px that should be visible.\r\n    },\r\n    tablet: {\r\n      breakpoint: { max: 1024, min: 464 },\r\n      items: 2,\r\n      partialVisibilityGutter: 30, // this is needed to tell the amount of px that should be visible.\r\n    },\r\n    mobile: {\r\n      breakpoint: { max: 464, min: 0 },\r\n      items: 1,\r\n      partialVisibilityGutter: 30, // this is needed to tell the amount of px that should be visible.\r\n    },\r\n  };\r\n\r\n  const [BookList, setBookList] = useState([]);\r\n\r\n  useEffect(() => {\r\n    // console.log('I am searching')\r\n    // console.log(user._id)\r\n    axios\r\n      .post(\"books/byPurpose\", { user: user, purpose: purpose, town:town })\r\n      .then((response) => {\r\n        // console.log(response.data)\r\n        setBookList(response.data);\r\n      })\r\n      .catch((err) => console.log(err));\r\n  }, []);\r\n\r\n  const displayBook = BookList.map((book) => {\r\n    // console.log(book)\r\n    return (\r\n      <div key=\"book._id\">\r\n        <BookCard\r\n          title={book.title}\r\n          description={book.description}\r\n          image={book.image}\r\n          author={book.author}\r\n          language={book.language}\r\n          town={book.town}\r\n          usersBookId={book.user}\r\n          bookId={book._id}\r\n          owner={book.user.username}\r\n          ownerId = {book.user._id}\r\n        />\r\n        {/* {book.title} */}\r\n      </div>\r\n    );\r\n  });\r\n  return (\r\n    <div>\r\n      <Carousel partialVisible={true} responsive={responsive} infinite={true}>\r\n        {displayBook}\r\n      </Carousel>\r\n    </div>\r\n  );\r\n}\r\n","import React, { useState, useEffect } from 'react'\r\nimport axios from 'axios'\r\nimport BookCard from './BookCard'\r\nimport Carousel from 'react-multi-carousel';\r\nimport 'react-multi-carousel/lib/styles.css';\r\n\r\nexport default function BookSliderForHomeByTown({ user, town}) {\r\n  const responsive = {\r\n    desktop: {\r\n      breakpoint: { max: 3000, min: 1024 },\r\n      items: 3,\r\n      partialVisibilityGutter: 40, // this is needed to tell the amount of px that should be visible.\r\n    },\r\n    tablet: {\r\n      breakpoint: { max: 1024, min: 464 },\r\n      items: 2,\r\n      partialVisibilityGutter: 30, // this is needed to tell the amount of px that should be visible.\r\n    },\r\n    mobile: {\r\n      breakpoint: { max: 464, min: 0 },\r\n      items: 1,\r\n      partialVisibilityGutter: 30, // this is needed to tell the amount of px that should be visible.\r\n    },\r\n  };\r\n\r\n  const [BookList, setBookList] = useState([]);\r\n\r\n  useEffect(() => {\r\n    // console.log('I am searching')\r\n    // console.log(user._id)\r\n\r\n    axios\r\n      .post(\"books/town\", { user: user, town:town })\r\n      .then((response) => {\r\n        // console.log(response.data)\r\n        setBookList(response.data);\r\n      })\r\n      .catch((err) => console.log(err));\r\n  }, []);\r\n\r\n  const displayBook = BookList.map((book) => {\r\n    // console.log(book.user)\r\n    // console.log(book)\r\n    return (\r\n      <div key=\"book._id\">\r\n        <BookCard\r\n          title={book.title}\r\n          description={book.description}\r\n          image={book.image}\r\n          author={book.author}\r\n          language={book.language}\r\n          town={book.town}\r\n          usersBookId={book.user}\r\n          bookId={book._id}\r\n          owner = {book.user.username}\r\n          ownerId = {book.user._id}\r\n        />\r\n        {/* {book.title} */}\r\n      </div>\r\n    );\r\n  });\r\n  return (\r\n    <div>\r\n      <Carousel partialVisible={true} responsive={responsive} infinite={true}>\r\n        {displayBook}\r\n      </Carousel>\r\n    </div>\r\n  );\r\n}\r\n","import React, { useContext } from \"react\";\r\nimport { AuthContext } from \"../context/auth\";\r\nimport Container from \"react-bootstrap/Container\";\r\nimport Row from \"react-bootstrap/Row\";\r\nimport Col from \"react-bootstrap/Col\";\r\nimport 'react-multi-carousel/lib/styles.css';\r\nimport BookSliderForHome from \"../components/BookSliderForHome\";\r\nimport BookSliderForHomeByTown from \"../components/BookSliderForHomeByTown\";\r\n\r\nexport default function Home() {\r\n \r\n  const { user } = useContext(AuthContext);\r\n  // console.log(user)\r\n\r\n\r\n \r\n  return (\r\n    <>\r\n      {user ? (\r\n        <>\r\n          <Container>\r\n            <Row>\r\n              <h2 className=\"headers-h2-home\">\r\n                <span className=\"headers-container\">\r\n                  Books accross {user.town}\r\n                </span>\r\n              </h2>\r\n\r\n              <Col>\r\n                <BookSliderForHomeByTown user={user._id} town={user.town}/>\r\n                {\" \"}\r\n              </Col>\r\n            </Row>\r\n            <Row>\r\n              <h2 className=\"headers-h2-home\">\r\n                <span className=\"headers-container\">\r\n                  Give Away Books in {user.town}\r\n                </span>\r\n              </h2>\r\n\r\n              <Col>\r\n                <BookSliderForHome purpose=\"GiveAway\" user={user._id} town={user.town}/>{\" \"}\r\n              </Col>\r\n            </Row>\r\n            <Row>\r\n              <h2 className=\"headers-h2-home\">\r\n                <span className=\"headers-container\">\r\n                  Exchange Books among {user.town}\r\n                </span>\r\n              </h2>\r\n\r\n              <Col>\r\n                <BookSliderForHome purpose=\"Exchange\" user={user._id} town={user.town}/>{\" \"}\r\n              </Col>\r\n            </Row>\r\n            <Row>\r\n              <h2 className=\"headers-h2-home\">\r\n                <span className=\"headers-container\">\r\n                  Trade Books for Short Period in {user.town}\r\n                </span>\r\n              </h2>\r\n\r\n              <Col>\r\n                <BookSliderForHome purpose=\"TradeForAPeriod\" user={user._id} town={user.town}/>{\" \"}\r\n              </Col>\r\n            </Row>\r\n          </Container>\r\n        </>\r\n      ) : (\r\n        <div className=\"front-page\">\r\n          <h1>Welcome to BookCycle</h1>\r\n          <p>\r\n            An application that helps people trade exchange or Give Away their\r\n            books\r\n          </p>\r\n        </div>\r\n      )}\r\n    </>\r\n  );\r\n}\r\n","import React, { useState, useEffect} from 'react'\r\nimport Card from 'react-bootstrap/Card'\r\nimport Button from 'react-bootstrap/Button'\r\n\r\nexport default function Book({title, description, image, author, language, handleStoreToMyDB, handlePurpose}) {\r\n    \r\n    const [shortDescr, setShortDesc] = useState('')\r\n    \r\n    useEffect(() => {\r\n        console.log(description)\r\n        if(description && (typeof description ===\"string\")){\r\n            setShortDesc(description.slice(0,70)+\"...\")\r\n        }\r\n    },[])\r\n\r\n    return (\r\n        // <div>\r\n        //     <h1>{title}</h1>\r\n        //     <h2>{author}</h2>\r\n        //     {description && <p>{description}</p>}\r\n            \r\n        //     <p>{language}</p>\r\n        //     {image && <img src={image} alt={title} />}\r\n        // </div>\r\n        <div>\r\n            <Card style={{ width: '18rem' }}>\r\n            <Card.Img variant=\"top\" src={image} />\r\n            <Card.Body>\r\n                <Card.Title>{title}</Card.Title>\r\n                <Card.Subtitle className=\"mb-2 text-muted\">By {author}</Card.Subtitle>\r\n                <Card.Subtitle className=\"mb-2 text-muted\">Written in {language}</Card.Subtitle>\r\n                <Card.Text>{shortDescr}</Card.Text>\r\n                <div className=\"addProperties\" onChange={handlePurpose}>\r\n                    <span className='radio-select'><input type=\"radio\" value=\"GiveAway\" name=\"gender\" id='giveaway' /> <label htmlFor='giveaway'>Give Away</label></span>\r\n                    <span className='radio-select'><input type=\"radio\" value=\"Exchange\" name=\"gender\" id='exchange' /> <label htmlFor='exchange'>Exchange</label></span>\r\n                    <span className='radio-select'><input type=\"radio\" value=\"TradeForAPeriod\" name=\"gender\" id='shortTrade' /><label htmlFor='shortTrade' >Short Trade</label></span>\r\n                </div>\r\n                <Button onClick={handleStoreToMyDB} variant=\"danger\">Add it to my Library</Button>\r\n            </Card.Body>\r\n            \r\n            </Card>\r\n        </div>\r\n    )\r\n}\r\n","import React from 'react'\r\nimport Form from 'react-bootstrap/Form'\r\nimport Button from 'react-bootstrap/Button'\r\n\r\nexport default function FindBook({handleSubmit, handleIsbn, isbn}) {\r\n    return (\r\n        // <div>\r\n\r\n        //     <form onSubmit={handleSubmit} className=\"signup-form\">\r\n\t\t// \t\t<label>Search with ISBN</label>\r\n\t\t// \t\t<input type=\"text\" name=\"isbn\" value={isbn} onChange={handleIsbn} />\r\n        //         <button type=\"submit\">Find Book</button>\r\n\t\t// \t</form>\r\n        // </div>\r\n        <Form className=\"searchIsbn\" onSubmit={handleSubmit}>\r\n\r\n                <Form.Group className=\"mb-3\" controlId=\"formBasicIsbn\">\r\n                    <Form.Control type=\"text\" placeholder=\"Isbn\" value={isbn} onChange={handleIsbn}/>\r\n                </Form.Group>\r\n\r\n                <Button variant=\"danger\" type=\"submit\">\r\n                    Search with Isbn\r\n                </Button>\r\n            </Form>\r\n    )\r\n}\r\n","import React, { useState, useEffect } from 'react'\r\nimport axios from 'axios'\r\nimport BookCard from './BookCard'\r\nimport Carousel from 'react-multi-carousel';\r\nimport 'react-multi-carousel/lib/styles.css';\r\n\r\nexport default function BookSlider({user, purpose,refresh, setRefresh}) {\r\n    const responsive = {\r\n        desktop: {\r\n          breakpoint: { max: 3000, min: 1024 },\r\n          items: 3,\r\n          partialVisibilityGutter: 40 // this is needed to tell the amount of px that should be visible.\r\n        },\r\n        tablet: {\r\n          breakpoint: { max: 1024, min: 464 },\r\n          items: 2,\r\n          partialVisibilityGutter: 30 // this is needed to tell the amount of px that should be visible.\r\n        },\r\n        mobile: {\r\n          breakpoint: { max: 464, min: 0 },\r\n          items: 1,\r\n          partialVisibilityGutter: 30 // this is needed to tell the amount of px that should be visible.\r\n        }\r\n      }\r\n\r\n    const [BookList, setBookList] = useState([])\r\n\r\n    useEffect(()=> {\r\n        // console.log('I am searching')\r\n        // console.log(user._id)\r\n        const userId = user._id\r\n        axios.post('books/mycollection', {userId: userId, purpose: purpose})\r\n        .then(response=> {\r\n            // console.log(response.data)\r\n            // console.log(response)\r\n            setBookList(response.data)\r\n        })\r\n        .catch(err => console.log(err))\r\n    },[refresh])\r\n\r\n    const displayBook = BookList.map(book => {\r\n        // console.log(book)\r\n        return (\r\n            <div key='book._id'>\r\n                \r\n                <BookCard title={book.title} description={book.description} image={book.image} author = {book.author} language={book.language} town = {book.town} usersBookId={book.user._id} bookId={book._id} setRefresh={setRefresh} refresh={refresh} owner={book.user.username}/>\r\n                {/* {book.title} */}\r\n            </div>\r\n        )\r\n    })\r\n\r\n    // console.log('My list for ' + purpose + ' ' + BookList)\r\n    return (\r\n        <div>\r\n\r\n            {/* {displayBook} */}\r\n            <Carousel partialVisible={true} responsive={responsive} infinite={true} >\r\n            {/* <img src=\"https://covers.openlibrary.org/b/id/2560652-L.jpg\" alt=\"Logo\" />\r\n            <img src=\"https://covers.openlibrary.org/b/id/12366815-L.jpg\" alt=\"Logo\" />\r\n            <img src=\"https://covers.openlibrary.org/b/id/8877738-L.jpg\" alt=\"Logo\" />\r\n            <img src=\"https://covers.openlibrary.org/b/id/9570820-L.jpg\" alt=\"Logo\" /> */}\r\n            {displayBook}\r\n            </Carousel>\r\n        </div>\r\n    )\r\n}","import React, { useState, useContext } from 'react'\r\n// import { Link, useNavigate } from 'react-router-dom'\r\nimport axios from 'axios'\r\nimport {AuthContext} from '../context/auth'\r\nimport Book from '../components/Book'\r\nimport FindBook from '../components/FindBook'\r\nimport Container from 'react-bootstrap/Container'\r\nimport Row from 'react-bootstrap/Row'\r\nimport Col from 'react-bootstrap/Col'\r\nimport BookSlider from '../components/BookSlider'\r\n\r\nexport default function MyLibrary() {\r\n    const [isbn, setIsbn] = useState('')\r\n    const [title, setTitle] = useState(null)\r\n    const [author, setAuthor] = useState(null)\r\n    const [description, setDescription] = useState(null)\r\n    const [image, setImage] = useState(null)\r\n    const [language, setLanguage] = useState(null)\r\n    const [bookPurpose, setBookPurpose] = useState(null)\r\n    const { user} = useContext(AuthContext)\r\n    const [refresh, setRefresh] = useState(false)\r\n\r\n//    console.log(user)\r\n    const handleStoreToMyDB = (e) =>{\r\n        // console.log('I am adding it')\r\n        e.preventDefault()\r\n        // if(description)\r\n        // console.log(description.value)\r\n        if(typeof description!==\"string\" && description!==null){\r\n            setDescription(description.value)\r\n        }\r\n        console.log(description)\r\n        const requestBody = {isbn:isbn, title: title, description: description, author: author, image: image, language: language, town: user.town, purpose: bookPurpose, available: true, user: user._id}\r\n        axios.post('/books/add', requestBody)\r\n        .then(response=> {\r\n            // console.log(response)\r\n            setIsbn('')\r\n            setAuthor(null)\r\n            setDescription('')\r\n            setImage(null)\r\n            setLanguage(null)\r\n            setBookPurpose(null)\r\n            setTitle(null)\r\n\r\n            //***********Here I HAVE TO REFRESH THE BOOK LIST************ */\r\n        })\r\n        .catch(err => console.log(err))\r\n        setRefresh(!refresh)\r\n    }\r\n\r\n    const handlePurpose = (e) => {\r\n        // setBookPurpose(e)\r\n        setBookPurpose(e.target.value)\r\n    }\r\n\r\n    const handleIsbn = e => setIsbn(e.target.value)\r\n    const handleSubmit = e => {\r\n        e.preventDefault()\r\n        // console.log(isbn)\r\n        const getWorksApi = `https://openlibrary.org/isbn/${isbn}.json`\r\n        // console.log(axiosString)\r\n        axios.get(getWorksApi)\r\n        .then(res => {\r\n            //GETTING THE TITLE\r\n            console.log(res.data)\r\n            // console.log(\"title: \" + res.data.title)\r\n            setTitle(res.data.title)\r\n            // setTitle(res.data.title)\r\n            const getDataApi = `https://openlibrary.org${res.data.works[0].key}.json`\r\n            // console.log(getDataApi)\r\n            axios.get(getDataApi)\r\n            .then(res=> {\r\n                console.log(res.data)\r\n                //FOR AUTHOR\r\n                const getAuthorApi = `https://openlibrary.org${res.data.authors[0].author.key}.json`\r\n                axios.get(getAuthorApi)\r\n                .then(res=> {\r\n                    // console.log(res.data)\r\n                     //GETTING THE AUTHOR\r\n                    // console.log('Author: ' + res.data.name)\r\n                    setAuthor(res.data.name)\r\n                })\r\n                .catch(err => console.log(err))\r\n                //FOR IMAGE\r\n                const getImageApi = `https://covers.openlibrary.org/b/id/${res.data.covers[0]}-L.jpg`\r\n                // console.log(getImageApi)\r\n                setImage(getImageApi)\r\n                //There is this response.url. I might need that if i have bugs\r\n                // axios.get(getImageApi)\r\n                // .then(res=>{\r\n                //     console.log(res)\r\n                // })\r\n                // .catch(err => console.log(err))\r\n                //DESCRIPTION\r\n                if(res.data.description!==undefined){\r\n                    setDescription(res.data.description)\r\n                }\r\n                \r\n            })\r\n            .catch(err => console.log(err))\r\n            //language\r\n            // console.log(res.data.languages[0].key)\r\n            const languageApi = `https://openlibrary.org${res.data.languages[0].key}.json`\r\n            axios.get(languageApi)\r\n            .then(res => {\r\n                // console.log(res.data.name)\r\n                setLanguage(res.data.name)\r\n            })\r\n        })\r\n        .catch(err => console.log(err))\r\n    }\r\n        \r\n\r\n    \r\n    return (\r\n        \r\n            <Container>\r\n            <Row>\r\n            <Col className='my-library-left-column align-top' sm={4}>\r\n                <FindBook handleSubmit={handleSubmit} isbn={isbn} handleIsbn={handleIsbn}/>\r\n            \r\n                {title && author && language && <Book title={title} author={author} language={language} description={description} image={image} handleStoreToMyDB={handleStoreToMyDB} handlePurpose={handlePurpose}/>}\r\n            </Col>\r\n            <Col className='my-library-right-column' sm={8}>\r\n                <Row>\r\n                    <h2 className='headers-h2'><span className='headers-container'>My Books to Give Away</span></h2>\r\n                    <BookSlider user={user}  refresh={refresh} setRefresh={setRefresh} purpose=\"GiveAway\"/>\r\n                </Row>\r\n                <Row>\r\n                    <h2 className='headers-h2'><span className='headers-container'>My Books for Exchange</span></h2>\r\n                    <BookSlider refresh={refresh} setRefresh={setRefresh} user={user} purpose=\"Exchange\"/>\r\n                </Row>\r\n                <Row>\r\n                    <h2 className='headers-h2'><span className='headers-container'>My Books for short trade period</span></h2>\r\n                    <BookSlider  refresh={refresh} setRefresh={setRefresh}user={user} purpose=\"TradeForAPeriod\"/>\r\n                </Row>\r\n            </Col>\r\n            </Row>\r\n            </Container>\r\n       \r\n    )\r\n}","import React, { useState, useContext } from 'react'\r\nimport Form from 'react-bootstrap/Form'\r\nimport Button from 'react-bootstrap/Button'\r\nimport axios from 'axios'\r\nimport {AuthContext} from '../context/auth'\r\nimport Container from 'react-bootstrap/Container'\r\nimport Row from 'react-bootstrap/Row'\r\nimport Col from 'react-bootstrap/Col'\r\nimport Card from \"react-bootstrap/Card\";\r\n\r\nexport default function MessageSection({messageHistory,requestId, proposal, requestSender,refresh, setRefresh, requestReciever,sendersBookList}) {\r\n    const [message, setMessage] = useState('')\r\n    const {user} = useContext(AuthContext)\r\n    const [bookForExchange, setBookForExchange] = useState('')\r\n    const handleMessage = (e) => {\r\n        e.preventDefault()\r\n        setMessage(e.target.value)\r\n        \r\n    }\r\n    \r\n    const handleRequest = (book) => {\r\n        console.log(book)\r\n        setBookForExchange(book)\r\n        axios.post('/messages/requestexchange', {bookId:book, requestId: requestId})\r\n        .then(response => {\r\n            console.log(response)\r\n        })\r\n    }\r\n    const viewSendersBookList = sendersBookList.map(book=>{\r\n        return (\r\n          \r\n                <Card className='message-card-for-grid' style={{ width: \"14rem\" }} onClick={() => handleRequest(book._id)}>\r\n        {/* <Card.Img className='lala' variant=\"top\" src={book.image} /> */}\r\n        <Card.Body>\r\n          <Card.Title>{book.title}</Card.Title>\r\n          <Card.Subtitle className=\"mb-2 text-muted\">By {book.author}</Card.Subtitle>\r\n          {/* <Card.Text>{shortDescr}</Card.Text> */}\r\n        </Card.Body>\r\n      </Card>\r\n           \r\n        )\r\n    })\r\n\r\n\r\n\r\n    const handleSubmit = (e) => {\r\n        e.preventDefault()\r\n        console.log(message)\r\n        // console.log('thats me',requestSender)\r\n        console.log(requestReciever)\r\n        axios.post('/messages/send', {message: user.username +\": \" + message, requestId:requestId })\r\n        .then(response => {\r\n            console.log(response)\r\n        })\r\n        setMessage('')\r\n        setRefresh(refresh+1)\r\n    }\r\n\r\n    const handleCancelRequest = () => {\r\n        console.log(requestId)\r\n        axios.post('/messages/cancel', {requestId:requestId})\r\n        .then(response => {\r\n            console.log(response)\r\n            setRefresh(refresh+1)\r\n        })\r\n    }\r\n\r\n    const wholeMessage = messageHistory.slice(-8).map(message => {\r\n        return (\r\n            <div>\r\n            <p key={requestId}>{message}</p>\r\n            </div>\r\n        )\r\n    })\r\n    return (\r\n        <Container>\r\n        <Row>\r\n        <Col className='my-library-left-column' sm={5}>\r\n            <div className='message-section' key={requestId}>\r\n                {wholeMessage}\r\n                <Form className='send-form' onSubmit={handleSubmit}>\r\n                    <Form.Group className=\"mb-2\" controlId=\"exampleForm.ControlTextarea1\">\r\n                        <Form.Control value={message}  onChange={handleMessage} as=\"textarea\" rows={3} placeholder=\"Write a message \" />\r\n                    </Form.Group>\r\n                    <div className='message-btns'>\r\n                        <Button variant=\"danger\" type=\"submit\">Send Message</Button>\r\n                        <Button variant=\"danger\" onClick={handleCancelRequest}>Cancel Request</Button>\r\n                    </div>\r\n                </Form>\r\n            </div>\r\n        </Col>\r\n        <Col>\r\n        {user._id!==requestSender._id && <div className='message-grid'>\r\n            {viewSendersBookList}\r\n        </div>}\r\n        \r\n        {user._id===requestSender._id && <div className='message-grid'>\r\n            {<div className='proposal'>\r\n                                    <h2 className='title-proposal'>{requestReciever.username} is asking for</h2>\r\n                                {proposal &&\r\n                                <Card className='message-card-for-grid' style={{ width: \"14rem\" }}>\r\n                                {/* <Card.Img className='lala' variant=\"top\" src={book.image} /> */}\r\n                                <Card.Body>\r\n                                <Card.Img variant=\"top\" src={proposal.image} />\r\n                                <Card.Title>{proposal.title}</Card.Title>\r\n                                <Card.Subtitle className=\"mb-2 text-muted\">By {proposal.author}</Card.Subtitle>\r\n                                {/* <Card.Text>{shortDescr}</Card.Text> */}\r\n                                </Card.Body>\r\n                                </Card>}\r\n                                </div>}\r\n        </div>}\r\n        \r\n        </Col>\r\n        </Row>\r\n        </Container>\r\n    )\r\n}","import React, {useEffect, useState} from \"react\";\r\nimport Card from \"react-bootstrap/Card\";\r\nimport Popup from \"reactjs-popup\";\r\nimport MessageSection from \"./MessageSection\"\r\nimport axios from 'axios'\r\n\r\nexport default function RequestBookCard({ request,refresh, setRefresh,proposal }) {\r\n    \r\n    const [sendersBookList, setSendersBookList] = useState([])\r\n\r\n    useEffect(() => {\r\n      const requestId = request.sender._id\r\n      // console.log(requestId.request)\r\n    \r\n      axios.post('/books/getbooklist', {requestId: requestId})\r\n      .then(response => {\r\n        console.log(response)\r\n        setSendersBookList(response.data)\r\n        \r\n      })\r\n\r\n      // axios.post('/messages/proposals', {})\r\n    }, [])\r\n\r\n  return (\r\n  \r\n    <Popup trigger={<div key={request.book._id} >\r\n      <Card style={{ width: \"14rem\" }}>\r\n        <Card.Img variant=\"top\" src={request.book.image} />\r\n        <Card.Body>\r\n          <Card.Title>{request.book.title}</Card.Title>\r\n          <Card.Subtitle className=\"mb-2 text-muted\">By {request.book.author}</Card.Subtitle>\r\n          <Card.Subtitle className=\"mb-2 text-muted\">\r\n           Requested by user {request.sender.username}\r\n          </Card.Subtitle>\r\n          <Card.Subtitle className=\"mb-2 text-muted\">\r\n            Owner {request.reciever.username}\r\n          </Card.Subtitle>\r\n          {/* <Card.Text>{shortDescr}</Card.Text> */}\r\n        </Card.Body>\r\n      </Card>\r\n      </div>} modal><MessageSection proposal={proposal} sendersBookList={sendersBookList} refresh={refresh} setRefresh={setRefresh} messageHistory={request.message} requestSender={request.sender} requestReciever={request.reciever} requestId={request._id}/></Popup>\r\n      \r\n    \r\n  );\r\n}\r\n","import React, { useState, useContext, useEffect } from 'react'\r\nimport {AuthContext} from '../context/auth'\r\nimport axios from 'axios'\r\nimport RequestBookCard from '../components/RequestBookCard'\r\n\r\n\r\nexport default function OutboxRequests() {\r\n    const {user} = useContext(AuthContext)\r\n    const [requests, setRequests] = useState([])\r\n    const [refresh, setRefresh] = useState(0)\r\n    // console.log(user)\r\n    useEffect(() => {\r\n\r\n        axios.post('/messages/outbox', {sender: user._id})\r\n        .then(response => {\r\n            console.log(response)\r\n            setRequests(response.data)\r\n        })\r\n\r\n    },[refresh])\r\n\r\n    const requestList = requests.map(request => {\r\n        console.log('the proposal is',request.proposal)\r\n        return (<div key={request.book._id}>\r\n            <RequestBookCard request={request} refresh={refresh} setRefresh={setRefresh} proposal={request.proposal}/>\r\n        </div>)\r\n    })\r\n\r\n    return (\r\n        <div className='grid'>\r\n            {requestList}\r\n        </div>\r\n    )\r\n}","import React, { useState, useContext, useEffect } from 'react'\r\nimport {AuthContext} from '../context/auth'\r\nimport axios from 'axios'\r\nimport RequestBookCard from '../components/RequestBookCard'\r\n\r\n\r\nexport default function InboxRequests() {\r\n    const {user} = useContext(AuthContext)\r\n    const [requests, setRequests] = useState([])\r\n    const [refresh, setRefresh] = useState(0)\r\n    // console.log(user)\r\n    useEffect(() => {\r\n\r\n        axios.post('/messages/inbox', {reciever: user._id})\r\n        .then(response => {\r\n            // console.log(response)\r\n            setRequests(response.data)\r\n        })\r\n\r\n    },[refresh])\r\n\r\n    const requestList = requests.map(request => {\r\n        return (<div key={request.book._id}>\r\n            <RequestBookCard request={request} refresh={refresh} setRefresh={setRefresh}/>\r\n        </div>)\r\n    })\r\n\r\n    return (\r\n        <div className='grid'>\r\n            {requestList}\r\n        </div>\r\n    )\r\n}","import './App.css';\nimport Navigation from './components/Navigation'\nimport { Routes, Route } from 'react-router-dom'\nimport Signup from './pages/Signup'\nimport Login from './pages/Login'\nimport Home from './pages/Home'\nimport MyLibrary from './pages/MyLibrary'\nimport OutboxRequests from './pages/OutboxRequests'\nimport InboxRequests from './pages/InboxRequests';\n\nfunction App() {\n\n  return (\n    <div> \n    {/* className=\"App\" */}\n        <Navigation />\n        <header >\n          <Routes>\n            <Route path='/' element={<Home />} />\n            <Route path='/signup' element={<Signup />} />\n            <Route path='/login' element={<Login />} />\n            <Route path='/myLibrary' element={<MyLibrary />} />\n            <Route path='/outbox' element={<OutboxRequests />} />\n            <Route path='/inbox' element={<InboxRequests />} />\n          </Routes>\n        </header>\n    </div>\n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\nimport {BrowserRouter as Router} from 'react-router-dom'\nimport {AuthProviderWrapper} from './context/auth'\nimport 'bootstrap/dist/css/bootstrap.min.css';\n\nReactDOM.render(\n  <Router>\n    <AuthProviderWrapper>\n      <App />\n    </AuthProviderWrapper>\n  </Router>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}